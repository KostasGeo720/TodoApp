{% extends 'base.html' %}

{% block title %}Login - TodoApp{% endblock %}

{% block content %}
    <div class="form-container">
        <h1>Welcome back</h1>
        <p class="subtitle">Sign in to access your tasks and continue where you left off.</p>

        <form method="POST" class="profile-form">
            {% csrf_token %}
            {% if form.non_field_errors %}
                <div class="field-errors">
                    {% for error in form.non_field_errors %}
                        <span class="error-message">{{ error }}</span>
                    {% endfor %}
                </div>
            {% endif %}

            <div class="form-group">
                <label for="id_username">Username</label>
                {{ form.username }}
                {% if form.username.errors %}
                <div class="field-errors">
                    {% for error in form.username.errors %}
                        <span class="error-message">{{ error }}</span>
                    {% endfor %}
                </div>
                {% endif %}
            </div>

            <div class="form-group">
                <label for="id_password">Password</label>
                {{ form.password }}
                {% if form.password.errors %}
                <div class="field-errors">
                    {% for error in form.password.errors %}
                        <span class="error-message">{{ error }}</span>
                    {% endfor %}
                </div>
                {% endif %}
            </div>

            <div style="display:flex; justify-content:space-between; align-items:center; gap:1rem;">
                <button type="submit" class="submit-btn">Sign in</button>
                <div style="font-size:0.9rem; color:var(--text-secondary);">
                    <a href="{% url 'login' %}">Forgot password?</a>
                </div>
            </div>
        </form>

        <p style="text-align:center; margin-top:1rem; color:var(--text-secondary);">Don't have an account? <a href="{% url 'new_profile' %}">Create one</a></p>
    </div>
{% endblock %}
